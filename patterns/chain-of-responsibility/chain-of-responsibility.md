# Цепочка вызовов / Цепочка обязанностей
**Цепочка обязанностей** — это поведенческий паттерн проектирования, который позволяет передавать запросы последовательно по цепочке обработчиков. Каждый последующий обработчик решает, может ли он обработать запрос сам и стоит ли передавать запрос дальше по цепи.

# Применимость
- Когда программа должна обрабатывать разнообразные запросы несколькими способами, но заранее неизвестно, какие конкретно запросы будут приходить и какие обработчики для них понадобятся.

С помощью Цепочки обязанностей можно связать потенциальных обработчиков в одну цепь и при получении запроса поочерёдно спрашивать каждого из них, не хочет ли он обработать запрос.

- Когда важно, чтобы обработчики выполнялись один за другим в строгом порядке.

Цепочка обязанностей позволяет запускать обработчиков последовательно один за другим в том порядке, в котором они находятся в цепочке.

- Когда набор объектов, способных обработать запрос, должен задаваться динамически.

В любой момент вы можете вмешаться в существующую цепочку и переназначить связи так, чтобы убрать или добавить новое звено.

# Плюсы
- Уменьшает зависимость между клиентом и обработчиками.
- Реализует принцип единственной обязанности.
- Реализует принцип открытости/закрытости.

# Минусы
- Запрос может остаться никем не обработанным.

# Реальный пример
В системе приёма онлайн-заказов используется паттерн Цепочка обязанностей.

Паттерн ограничивает доступ к системе так, чтобы только авторизованные пользователи могли создавать заказы. При этом пользователи с правами администратора должны иметь полный доступ к заказам. Эти проверки необходимо выполнять последовательно, поскольку, если пользователь не авторизован, нет смысла проверять его расширенные права доступа.

По мере развития системы возникает необходимость добавления новых проверок, таких как валидация данных заказа, блокировка массовых отправок формы для предотвращения атак ботов и кеширование формы заказа. С каждой новой проверкой код становится всё более запутанным и сложным для поддержания. Использование паттерна Цепочка обязанностей позволяет упростить и структурировать процесс последовательных проверок. Каждая проверка оформляется в отдельный класс, что позволяет легко изменять или добавлять новые проверки без необходимости изменения кода других проверок. Это делает код более гибким, поддерживаемым и масштабируемым.

В итоге, паттерн Цепочка обязанностей позволяет справиться с усложнением системы, упростить её поддержку и обеспечить возможность лёгкого добавления новых проверок в будущем.
